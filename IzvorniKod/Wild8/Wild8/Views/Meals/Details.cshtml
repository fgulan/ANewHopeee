@model MealWithPrice

<!DOCTYPE html>
<!--
   ___   _  __           __ __
  / _ | / |/ /__ _    __/ // /__  ___  ___ ___ ___
 / __ |/    / -_) |/|/ / _  / _ \/ _ \/ -_) -_) -_)
/_/ |_/_/|_/\__/|__,__/_//_/\___/ .__/\__/\__/\__/
                               /_/
-->
<html>
<head>
    <title>Wild8.me | Naziv jela</title>

    <link rel="shortcut icon" href="~/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/comments.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/meal.css" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Scripts/price_update.js"></script>
    <script type="text/javascript" src="~/Scripts/star_rating.js"></script>
    <script type="text/javascript" src="~/Scripts/navbar_hide.js"></script>
    <script type="text/javascript" src="~/Scripts/meals_view.js"></script>
</head>
<body>
    <div class="container">
        <form action="@Url.Action("AddToCart","Meals")">
            <div class="row">
                <div class="col-md-6">
                    <img class="img-responsive meal-image" src="images/carousel_images/Wild8_sample_food.jpg" />
                </div>
                <div class="col-md-1"></div>
                <div class="col-md-4">
                    <h3 id="MealName">@Html.DisplayFor(model => model.Meal.Name)</h3>
                    <p>@Html.DisplayFor(model => model.Meal.Description)</p>
                </div>
            </div>
            <div class="row">

                <div class="col-md-2">
                    <table>
                        <tbody>
                            @foreach (var mealAddOn in Model.Meal.AddOns)
                            {
                                <tr><td><input type="checkbox" value="@mealAddOn.AddOn.Price">@mealAddOn.AddOn.AddOnID</td><td> + @mealAddOn.AddOn.Price HRK</td></tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="col-md-1">
                    <ul>
                        @foreach (var type in Model.Types)
                        {
                            <li><input type="radio" name="Types" value="@type.Price">@type.MealTypeName</li>
                        }
                    </ul>
                </div>

                <div class="col-md-1">
                    <select id="Count" name="Count" form="AddMealForm" class="1-10"></select>
                </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-warning pull-right" id="addMealButton" >Dodaj</button>
                    <label id="sum" class="pull-right">35.99 HRK</label>
                </div>
            </div>
        </form>
        <div class="row">
            <div class="col-md-6">
                <h2 class="page-header">Komentari</h2>
                <section class="comment-list">
                    @foreach (var item in Model.Meal.Comments)
                    {
                        Html.RenderPartial("~/Views/Meals/Comment", item);
                    }
                </section>
            </div>
        </div>
    </div>
    <div class="panel-group" id="accordion">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" style="font-size: 100%">
                        Komentiraj...
                    </a>
                </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse">
                <div class="panel-body commentbox-style">
                    <form class="form-signin" action="@Url.Action("AddNewComment","Meals")" method="post">
                        <div class="form-group">
                            <input type="hidden" name="ID" value=@Html.Display(Model.Meal.MealID.ToString())>
                        </div>
                        <div class="form-group">
                            <label for="usr">Korisničko ime:</label>
                            <input type="text" class="form-control" id="usr" name="Username" placeholder="korisničko ime" required autofocus="">
                        </div>
                        <div class="form-group">
                            <label for="comment">Komentar:</label>
                            <textarea class="form-control" rows="5" id="comment" name="Message" placeholder="Upišite Vaš komentar ovdje." required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="rate">Ocjena: </label>
                            <div class="container">
                                <div class="row lead">
                                    <div id="stars-existing" class="stars" data-rating="3"></div>
                                    <p>
                                        Ocijenili ste s <span id="count-existing">3</span> <span class="glyphicon glyphicon-star"></span>
                                    </p>
                                </div>
                            </div>
                            <button id="CommentButton" class="btn btn-lg btn-success btn-block" type="submit">Pošalji komentar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
</html>