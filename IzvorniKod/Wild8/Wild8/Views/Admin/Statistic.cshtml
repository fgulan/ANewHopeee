@model StatisticsModel

<h1>Broj narudžbi po mjesecima</h1>
<div id="chartdiv" style="width: 100%; height: 400px; background-color: #FFFFFF;"></div>

Total average price: @Html.DisplayFor(model => model.TotalAveragePrice)<br/>
Total 3 most ordered meals:<br/>
@foreach (var meal in Model.TotalTop3Meals.GetRange(0, 3)) {

    Html.Display(meal.Key + " was ordered " + meal.Value + " times.");
}
Total orders: @Html.DisplayFor(model => model.TotalNumOfOrders)


<!-- amCharts javascript sources -->
<script type="text/javascript" src="http://www.amcharts.com/lib/3/amcharts.js"></script>
<script type="text/javascript" src="http://cdn.amcharts.com/lib/3/serial.js"></script>
<script type="text/javascript" src="http://www.amcharts.com/lib/3/themes/light.js"></script>

<!-- amCharts javascript code -->
<script type="text/javascript">
			AmCharts.makeChart("chartdiv",
				{
					"type": "serial",
					"categoryField": "date",
					"dataDateFormat": "YYYY-MM",
					"autoMarginOffset": 40,
					"marginRight": 60,
					"marginTop": 60,
					"fontSize": 13,
					"handDrawScatter": 4,
					"theme": "light",
					"categoryAxis": {
						"parseDates": true
					},
					"chartCursor": {
						"enabled": true
					},
					"chartScrollbar": {
						"enabled": true
					},
					"trendLines": [],
					"graphs": [
						{
							"columnWidth": 10,
							"cornerRadiusTop": 8,
							"dashLength": 4,
							"fillAlphas": 0.51,
							"id": "AmGraph-1",
							"lineAlpha": 0.44,
							"title": "graph 1",
							"type": "column",
							"valueField": "orders"
						},
						{
							"bullet": "square",
							"bulletBorderAlpha": 1,
							"bulletBorderThickness": 1,
							"bulletSize": 16,
							"id": "AmGraph-2",
							"lineThickness": 3,
							"title": "graph 2",
							"valueField": "column-2"
						}
					],
					"guides": [],
					"valueAxes": [
						{
							"id": "ValueAxis-1",
							"title": ""
						}
					],
					"allLabels": [],
					"balloon": {},
					"titles": [],
					"dataProvider": [
                        @foreach (var pair in Model.OrdersByMonths)
                        {
                            Html.Display("{ \"date\": \"" + pair.Key + "\", \"orders\": " + pair.Value + "},");
                        }
					]
				}
			);
</script>